import * as React from "react";
import { useEffect } from "react";
import { gsap } from "gsap";
import { MorphSVGPlugin } from "gsap/MorphSVGPlugin";

gsap.registerPlugin(MorphSVGPlugin); // Register the MorphSVGPlugin

const Loading = (props: React.SVGProps<SVGSVGElement>) => {
  useEffect(() => {
    gsap.fromTo(
      "#white-bar",
      { attr: { width: 0 } },
      {
        attr: { width: 537.896 },
        duration: 5,
        ease: "power1.inOut",
      }
    );
  }, []);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="100 900 900 180"
      {...props}
    >
      <rect
        id="upper-bar"
        x="144.349"
        y="946.604"
        width="790.302"
        height="13.478"
        fill="white"
      />
      <rect
        x="934.651"
        y="960.082"
        width="14.7033"
        height="13.478"
        fill="white"
      />
      <rect
        x="949.354"
        y="973.56"
        width="14.7033"
        height="42.8846"
        fill="white"
      />
      <rect
        x="934.651"
        y="1016.45"
        width="14.7033"
        height="13.478"
        fill="white"
      />
      <rect
        x="144.349"
        y="1029.92"
        width="14.7033"
        height="13.478"
        transform="rotate(-180 144.349 1029.92)"
        fill="white"
      />
      <rect
        x="129.646"
        y="1016.45"
        width="14.7033"
        height="42.8846"
        transform="rotate(-180 129.646 1016.45)"
        fill="white"
      />

      {/* White Bar (animated) */}
      <rect
        id="white-bar"
        x="149.349" // Fix x position
        y="972.45"
        width="0" // Start with 0 width for animation
        height="42.8846"
        fill="white"
      />

      {/* Background loading bar */}
      <rect
        id="bg-loading-bar"
        width="775.802"
        height="42.8846"
        transform="matrix(1 8.74228e-08 8.74228e-08 -1 153.047 1015.45)"
        fill="white"
        fillOpacity="0.3"
      />
      <rect
        x="144.349"
        y="973.56"
        width="14.7033"
        height="13.478"
        transform="rotate(-180 144.349 973.56)"
        fill="white"
      />
      <rect
        x="144.349"
        y="1029.92"
        width="790.302"
        height="13.478"
        fill="white"
      />
    </svg>

    // <svg
    //   xmlns="http://www.w3.org/2000/svg"
    //   fill="none"
    //   viewBox="100 900 900 180" // Maintains original aspect ratio
    //   preserveAspectRatio="xMidYMid meet" // Scales and keeps the aspect ratio
    //   {...props}
    // >
    //   <path
    //     fill="#fff"
    //     d="M144.349 946.604h790.302v13.478H144.349zM934.651 960.082h14.703v13.478h-14.703zM949.354 973.56h14.703v42.885h-14.703zM934.651 1016.45h14.703v13.478h-14.703zM144.349 1029.92h-14.703v-13.478h14.703zM129.646 1016.45h-14.703v-42.885h14.703zM692.047 1016.45H154.151v-42.885h537.896z"
    //   />
    //   <path
    //     fill="#fff"
    //     fillOpacity={0.3}
    //     d="M692.047 1016.45h232.802v-42.885H692.047z"
    //   />
    //   <path
    //     fill="#fff"
    //     d="M144.349 973.56h-14.703v-13.478h14.703zM144.349 1029.92h790.302v13.478H144.349zM370.478 1139.15v-38.85h4.607v4.15h.114c2.219-3.01 5.177-4.83 9.443-4.83 7.453 0 12.629 5.68 12.629 15.47 0 9.44-4.835 15.47-12.799 15.47-3.982 0-6.827-1.19-9.273-4.32h-.114v12.91h-4.607Zm13.652-12.46c5.632 0 8.42-4.89 8.42-11.54 0-6.6-2.788-11.61-8.363-11.61-6.428 0-9.386 5.23-9.386 11.61 0 6.37 2.56 11.54 9.329 11.54Zm22.343-26.39v4.89h.114c1.763-2.84 4.835-5.23 8.76-5.23.854 0 1.309.11 1.878.34v4.44h-.171c-.683-.23-1.138-.29-2.048-.29-4.551 0-8.533 3.41-8.533 8.93v16.33h-4.608v-29.41h4.608Zm26.352 30.21c-8.76 0-14.221-6.95-14.221-15.48 0-8.53 5.461-15.47 14.221-15.47 8.818 0 14.165 6.94 14.165 15.47 0 8.53-5.347 15.48-14.165 15.48Zm0-3.87c6.258 0 9.443-5.12 9.443-11.61 0-6.48-3.185-11.66-9.443-11.66-6.257 0-9.5 5.18-9.5 11.66 0 6.49 3.243 11.61 9.5 11.61Zm-1.877-30.95 2.901-7.22h5.689l-4.665 7.22h-3.925Zm15.85 34.02 11.093-15.42-9.785-13.99h5.348l6.997 10.69h.114l7.281-10.69h5.063l-9.671 13.48 11.491 15.93h-5.404l-8.703-12.63h-.114l-8.533 12.63h-5.177Zm31.397 0v-29.41h4.608v29.41h-4.608Zm0-34.99v-5.69h4.608v5.69h-4.608Zm10.889 34.99v-29.41h4.608v4.21h.114c1.82-2.85 4.949-4.89 8.646-4.89 3.584 0 6.428 1.82 7.68 5.23h.114c1.877-3.36 5.404-5.23 8.988-5.23 5.233 0 8.931 3.35 8.931 9.44v20.65h-4.608v-20.42c0-3.64-2.446-5.81-5.404-5.81-3.811 0-7.225 3.3-7.225 7.91v18.32h-4.607v-20.42c0-3.64-2.048-5.81-5.063-5.81-3.584 0-7.566 3.3-7.566 7.91v18.32h-4.608Zm68.261.28c-3.015 0-4.608-1.36-5.063-4.38h-.057c-1.764 2.28-4.779 4.67-9.785 4.67-5.574 0-9.955-2.62-9.955-8.19 0-6.94 5.461-8.37 12.8-9.5 4.152-.63 7.054-1.03 7.054-4.21 0-3.3-2.39-5.18-6.599-5.18-4.779 0-7.168 2.05-7.339 6.48h-4.437c.171-5.68 3.925-9.95 11.719-9.95 6.257 0 10.865 2.33 10.865 9.33v13.99c0 2.39.569 3.7 3.129 3.13h.171v3.36c-.569.23-1.309.45-2.503.45Zm-13.881-3.24c6.144 0 8.932-4.49 8.932-7.91v-5c-1.536.96-4.21 1.7-6.713 2.16-4.608.85-8.305 1.65-8.305 5.97 0 3.93 3.071 4.78 6.086 4.78Zm19.784 2.96v-29.41h4.607v4.21h.114c1.821-2.85 4.949-4.89 8.647-4.89 3.584 0 6.428 1.82 7.68 5.23h.113c1.878-3.36 5.405-5.23 8.988-5.23 5.234 0 8.932 3.35 8.932 9.44v20.65h-4.608v-20.42c0-3.64-2.446-5.81-5.404-5.81-3.812 0-7.225 3.3-7.225 7.91v18.32h-4.608v-20.42c0-3.64-2.048-5.81-5.063-5.81-3.584 0-7.566 3.3-7.566 7.91v18.32h-4.607Zm23.014 3.75v-3.75h4.266v-9.27h4.608v9.27h5.689v3.75h-5.689v19.12c0 2.04 1.081 2.73 2.958 2.73.911 0 1.935-.23 2.447-.4h.17v3.98c-1.081.23-2.332.4-3.697.4-3.755 0-6.486-1.54-6.486-5.69v-20.14h-4.266Zm31.615 26.46c-8.988 0-14.221-6.95-14.221-15.48 0-8.53 5.574-15.47 13.937-15.47 8.817 0 13.539 6.83 13.539 16.55h-22.755c.341 5.98 3.584 10.53 9.5 10.53 4.267 0 7.111-2.05 8.135-6.03h4.494c-1.365 6.31-5.973 9.9-12.629 9.9Zm-.284-27.31c-5.461 0-8.419 4.1-9.102 9.44h17.692c-.285-5.86-3.3-9.44-8.59-9.44Zm22.652-2.9v3.87h.114c2.105-2.79 5.063-4.55 9.329-4.55 6.144 0 9.899 3.35 9.899 9.44v20.65h-4.608v-20.25c0-3.81-2.503-5.98-6.656-5.98-4.665 0-8.078 3.3-8.078 8.14v18.09h-4.608v-29.41h4.608Zm23.014 3.75v-3.75h4.266v-9.27h4.608v9.27h5.689v3.75h-5.689v19.12c0 2.04 1.081 2.73 2.958 2.73.911 0 1.935-.23 2.447-.4h.17v3.98c-1.081.23-2.332.4-3.697.4-3.755 0-6.486-1.54-6.486-5.69v-20.14h-4.266Zm31.615 26.46c-8.988 0-14.221-6.95-14.221-15.48 0-8.53 5.574-15.47 13.937-15.47 8.817 0 13.539 6.83 13.539 16.55h-22.755c.341 5.98 3.584 10.53 9.5 10.53 4.267 0 7.111-2.05 8.135-6.03h4.494c-1.365 6.31-5.973 9.9-12.629 9.9Zm-.284-27.31c-5.461 0-8.419 4.1-9.102 9.44h17.692c-.285-5.86-3.3-9.44-8.59-9.44Zm16.863 26.51v-5.63h5.518v5.63h-5.518Zm10.5 0v-5.63h5.518v5.63h-5.518Zm10.499 0v-5.63h5.518v5.63h-5.518Z"
    //   />
    // </svg>
  );
};

export default Loading;
